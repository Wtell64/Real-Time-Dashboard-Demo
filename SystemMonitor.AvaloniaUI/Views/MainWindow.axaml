<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:SystemMonitor.AvaloniaUI.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="1200" d:DesignHeight="800"
        x:Class="SystemMonitor.AvaloniaUI.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Icon="/Assets/avalonia-logo.ico"
        Title="System Monitor Dashboard"
        Width="1200" Height="800">

	<Design.DataContext>
		<vm:MainWindowViewModel/>
	</Design.DataContext>

	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="200"/>
		</Grid.RowDefinitions>

		<!-- Header -->
		<Border Grid.Row="0" Background="#2C3E50" Padding="20,15">
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="Auto"/>
				</Grid.ColumnDefinitions>

				<StackPanel Grid.Column="0" Orientation="Vertical">
					<TextBlock Text="System Monitor Dashboard"
                              FontSize="24" FontWeight="Bold" Foreground="White"/>
					<TextBlock Text="{Binding Metrics.MachineName, StringFormat='Machine: {0}'}"
                              FontSize="14" Foreground="#BDC3C7"/>
				</StackPanel>

				<StackPanel Grid.Column="1" Orientation="Vertical" HorizontalAlignment="Right">
					<TextBlock Text="{Binding Metrics.LastUpdate, StringFormat='Last Update: {0:HH:mm:ss}'}"
                              FontSize="12" Foreground="#BDC3C7"/>
					<TextBlock Text="{Binding Metrics.ConnectionStatus}"
                              FontSize="12" Foreground="#27AE60"/>
				</StackPanel>
			</Grid>
		</Border>

		<!-- Main Content -->
		<Grid Grid.Row="1" Margin="20">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="*"/>
				<ColumnDefinition Width="*"/>
				<ColumnDefinition Width="*"/>
			</Grid.ColumnDefinitions>

			<!-- CPU Usage -->
			<Border Grid.Column="0" Background="White" CornerRadius="8"
                    BoxShadow="0 2 10 rgba(0,0,0,0.1)" Margin="10">
				<StackPanel Padding="20">
					<TextBlock Text="CPU Usage" FontSize="18" FontWeight="SemiBold"
                              Foreground="#2C3E50" Margin="0,0,0,15"/>

					<Border Width="150" Height="150" CornerRadius="75"
                            Background="#ECF0F1" Margin="0,0,0,20">
						<Border Width="120" Height="120" CornerRadius="60"
                                Background="#3498DB" Opacity="0.8">
							<StackPanel VerticalAlignment="Center">
								<TextBlock Text="{Binding Metrics.CpuUsage, StringFormat='{0:F1}%'}"
                                          FontSize="28" FontWeight="Bold"
                                          Foreground="White" HorizontalAlignment="Center"/>
								<TextBlock Text="CPU" FontSize="12"
                                          Foreground="White" HorizontalAlignment="Center"/>
							</StackPanel>
						</Border>
					</Border>

					<ProgressBar Value="{Binding Metrics.CpuUsage}"
                                Maximum="100" Height="8"
                                Foreground="#3498DB" Background="#ECF0F1"/>
				</StackPanel>
			</Border>

			<!-- Memory Usage -->
			<Border Grid.Column="1" Background="White" CornerRadius="8"
                    BoxShadow="0 2 10 rgba(0,0,0,0.1)" Margin="10">
				<StackPanel Padding="20">
					<TextBlock Text="Memory Usage" FontSize="18" FontWeight="SemiBold"
                              Foreground="#2C3E50" Margin="0,0,0,15"/>

					<Border Width="150" Height="150" CornerRadius="75"
                            Background="#ECF0F1" Margin="0,0,0,20">
						<Border Width="120" Height="120" CornerRadius="60"
                                Background="#E74C3C" Opacity="0.8">
							<StackPanel VerticalAlignment="Center">
								<TextBlock Text="{Binding Metrics.MemoryUsage, StringFormat='{0:F1}%'}"
                                          FontSize="28" FontWeight="Bold"
                                          Foreground="White" HorizontalAlignment="Center"/>
								<TextBlock Text="RAM" FontSize="12"
                                          Foreground="White" HorizontalAlignment="Center"/>
							</StackPanel>
						</Border>
					</Border>

					<ProgressBar Value="{Binding Metrics.MemoryUsage}"
                                Maximum="100" Height="8"
                                Foreground="#E74C3C" Background="#ECF0F1"/>
				</StackPanel>
			</Border>

			<!-- Disk Usage -->
			<Border Grid.Column="2" Background="White" CornerRadius="8"
                    BoxShadow="0 2 10 rgba(0,0,0,0.1)" Margin="10">
				<StackPanel Padding="20">
					<TextBlock Text="Disk Usage" FontSize="18" FontWeight="SemiBold"
                              Foreground="#2C3E50" Margin="0,0,0,15"/>

					<Border Width="150" Height="150" CornerRadius="75"
                            Background="#ECF0F1" Margin="0,0,0,20">
						<Border Width="120" Height="120" CornerRadius="60"
                                Background="#F39C12" Opacity="0.8">
							<StackPanel VerticalAlignment="Center">
								<TextBlock Text="{Binding Metrics.DiskUsage, StringFormat='{0:F1}%'}"
                                          FontSize="28" FontWeight="Bold"
                                          Foreground="White" HorizontalAlignment="Center"/>
								<TextBlock Text="DISK" FontSize="12"
                                          Foreground="White" HorizontalAlignment="Center"/>
							</StackPanel>
						</Border>
					</Border>

					<ProgressBar Value="{Binding Metrics.DiskUsage}"
                                Maximum="100" Height="8"
                                Foreground="#F39C12" Background="#ECF0F1"/>
				</StackPanel>
			</Border>
		</Grid>

		<!-- Events Log -->
		<Border Grid.Row="2" Background="White" CornerRadius="8"
                BoxShadow="0 2 10 rgba(0,0,0,0.1)" Margin="20,0,20,20">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="*"/>
				</Grid.RowDefinitions>

				<Border Grid.Row="0" Background="#34495E" CornerRadius="8,8,0,0" Padding="15,10">
					<TextBlock Text="Recent Events" FontSize="16" FontWeight="SemiBold"
                              Foreground="White"/>
				</Border>

				<ListBox Grid.Row="1" ItemsSource="{Binding Metrics.RecentEvents}"
                         Background="Transparent" BorderThickness="0">
					<ListBox.ItemTemplate>
						<DataTemplate>
							<Border Padding="15,8" BorderBrush="#ECF0F1" BorderThickness="0,0,0,1">
								<Grid>
									<Grid.ColumnDefinitions>
										<ColumnDefinition Width="120"/>
										<ColumnDefinition Width="150"/>
										<ColumnDefinition Width="*"/>
									</Grid.ColumnDefinitions>

									<TextBlock Grid.Column="0"
                                              Text="{Binding Timestamp, StringFormat='{0:HH:mm:ss}'}"
                                              FontSize="12" Foreground="#7F8C8D"/>
									<TextBlock Grid.Column="1" Text="{Binding EventType}"
                                              FontSize="12" FontWeight="SemiBold" Foreground="#2C3E50"/>
									<TextBlock Grid.Column="2" Text="{Binding Message}"
                                              FontSize="12" Foreground="#34495E" TextWrapping="Wrap"/>
								</Grid>
							</Border>
						</DataTemplate>
					</ListBox.ItemTemplate>
				</ListBox>
			</Grid>
		</Border>
	</Grid>
</Window>